(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&t(n)}).observe(document,{childList:!0,subtree:!0});function o(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(e){if(e.ep)return;e.ep=!0;const r=o(e);fetch(e.href,r)}})();const c=document.getElementById("dropArea"),g=document.getElementById("inputCode");document.querySelector("button").addEventListener("click",m);c.addEventListener("dragover",i=>{i.preventDefault(),c.classList.add("textarea-dragover")});c.addEventListener("dragleave",()=>{c.classList.remove("textarea-dragover")});c.addEventListener("drop",i=>{i.preventDefault(),c.classList.remove("textarea-dragover");const a=i.dataTransfer.files[0];if(a&&a.type==="text/plain"){const o=new FileReader;o.onload=function(t){g.value=t.target.result},o.readAsText(a)}else alert("Solo se permiten archivos .txt")});const u=[{re:/^\/#([\s\S]*?)#\//,sig:"Comentario multilínea",cat:"Comentario"},{re:/^\/#.*(?:\r?\n|$)/,sig:"Comentario de una línea",cat:"Comentario"},{re:/^"(?:\\.|[^"])*"/,sig:"Constante de texto",cat:"Cadena"},{re:/^'(?:\\.|[^'])*'/,sig:"Constante carácter",cat:"Carácter"},{re:/^\d+\.\d+/,sig:"Número decimal",cat:"Numérico"},{re:/^\.\d+/,sig:"Número decimal",cat:"Numérico"},{re:/^\d+/,sig:"Número entero",cat:"Numérico"},{re:/^(?:const|let|var)\b/,sig:"Declaración var.",cat:"Palabra reservada"},{re:/^(?:text|number|bo|ch)\b/,sig:"Tipo de dato",cat:"Palabra reservada"},{re:/^(?:true|false)\b/,sig:"Booleano",cat:"Palabra reservada"},{re:/^(?:if|else|for|fun|match|case|default|length)\b/,sig:"Control/Estructura",cat:"Palabra reservada"},{re:/^(?:pr|cl)\b/,sig:"Salida",cat:"Palabra reservada"},{re:/^pi\b/,sig:"Constante π",cat:"Palabra reservada"},{re:/^=>/,sig:"Flecha",cat:"Asignación / arrow"},{re:/^>=/,sig:"Mayor o igual",cat:"Comparación"},{re:/^<=/,sig:"Menor o igual",cat:"Comparación"},{re:/^>/,sig:"Mayor",cat:"Comparación"},{re:/^</,sig:"Menor",cat:"Comparación"},{re:/^==/,sig:"Igual igual",cat:"Comparación"},{re:/^!=/,sig:"Diferente de",cat:"Comparación"},{re:/^&&/,sig:"And lógico",cat:"Lógico"},{re:/^\|\|/,sig:"Or lógico",cat:"Lógico"},{re:/^!/,sig:"Negación",cat:"Lógico"},{re:/^\?/,sig:"Ternario",cat:"Operador ternario"},{re:/^:/,sig:"dos puntos",cat:"Asignación"},{re:/^=/,sig:"Asignación (igual)",cat:"Asignación"},{re:/^\+/,sig:"Suma",cat:"Aritmético"},{re:/^\-/,sig:"Resta",cat:"Aritmético"},{re:/^\*/,sig:"Multiplicación",cat:"Aritmético"},{re:/^\//,sig:"División",cat:"Aritmético"},{re:/^%/,sig:"Porcentaje",cat:"Aritmético"},{re:/^\[/,sig:"Corchete abierto",cat:"Agrupación"},{re:/^\]/,sig:"Corchete cerrado",cat:"Agrupación"},{re:/^\{/,sig:"Llave abierta",cat:"Agrupación"},{re:/^\}/,sig:"Llave cerrada",cat:"Agrupación"},{re:/^\(/,sig:"Paréntesis abierto",cat:"Agrupación"},{re:/^\)/,sig:"Paréntesis cerrado",cat:"Agrupación"},{re:/^,/,sig:"Coma",cat:"Separador"},{re:/^;/,sig:"Punto y coma",cat:"Separador"},{re:/^\./,sig:"Punto",cat:"Separador"},{re:/^_[A-Za-záéíóúÁÉÍÓÚñÑ][A-Za-záéíóúÁÉÍÓÚñÑ0-9_]*/,sig:"Identificador",cat:"Letra/nombre"},{re:/^[A-Za-záéíóúÁÉÍÓÚñÑ][A-Za-záéíóúÁÉÍÓÚñÑ0-9_]*/,sig:"Identificador",cat:"Letra/nombre"},{re:/^\s+/,ignore:!0}];function m(){const i=document.getElementById("inputCode").value,a=document.querySelector("#tablaTokens tbody"),o=document.getElementById("errores");a.innerHTML="",o.textContent="";let t=0;for(;t<i.length;){let e=!1;for(const r of u){const n=i.slice(t),l=r.re.exec(n);if(l){e=!0;const d=l[0];if(!r.ignore){const s=a.insertRow();s.insertCell().textContent=d,s.insertCell().textContent=r.sig,s.insertCell().textContent=r.cat}t+=d.length;break}}e||(o.innerHTML+=`<div class="error">No reconocido en pos ${t}: “${i[t]}”</div>`,t++)}}
